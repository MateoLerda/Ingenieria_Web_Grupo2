{% extends 'users/base-user-form.html' %}
{% load widget_tweaks %}
{% load static %}
{% load socialaccount %}
{% block title %} <title>Complete Registration | PartyFinder</title> {% endblock %}
{% block content %}
{% if messages %}
  {% for message in messages %}
    <div class="message message-{{ message.tags }} fw-bold position-relative" role="alert">
      {{ message }}
      <button type="button" class="btn-close position-absolute top-0 end-0 m-2" aria-label="Close" onclick="this.parentElement.style.display='none';"></button>
    </div>
  {% endfor %}
{% endif %}
<div class="auth-wrapper">
  <div class="social-signup-container">
    <div class="card shadow-lg border-0 social-signup-card">
      <div class="social-provider-info">
        <div class="google-logo-large">
          <svg viewBox="0 0 24 24" width="32" height="32">
            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
          </svg>
        </div>
        <h2>Complete your registration</h2>
        <p class="welcome-text">Welcome! We've securely imported your basic information from Google. Just a few more details to get you started on PartyFinder.</p>
      </div>
      
      {% if account %}
      <div class="google-account-info">
        <div class="info-header">
          <h4>‚úì Information from Google</h4>
          <p class="info-subtitle">We've automatically imported this information from your Google account</p>
        </div>
        <div class="account-details">
          <div class="account-item">
            <span class="account-label">Email:</span>
            <span class="account-value">{{ account.extra_data.email }}</span>
          </div>
          {% if account.extra_data.name %}
          <div class="account-item">
            <span class="account-label">Full Name:</span>
            <span class="account-value">{{ account.extra_data.name }}</span>
          </div>
          {% endif %}
          {% if account.extra_data.picture %}
          <div class="account-item">
            <span class="account-label">Profile Picture:</span>
            <span class="account-value">‚úì Imported</span>
          </div>
          {% endif %}
        </div>
      </div>
      
      <div class="completion-notice">
        <h4>üìù Complete your profile</h4>
        <p>Just a few more details to personalize your PartyFinder experience:</p>
      </div>
      {% endif %}
      <form method="post" novalidate class="completion-form">
        {% csrf_token %}
        {{ form.non_field_errors }}
        
        {% for field in form %}
          {% if field.name != 'email' %}
          <div class="mb-3">
            {{ field.label_tag }}
            {% render_field field class="form-control" %}
            {% if field.help_text %}
              <div class="form-text">{{ field.help_text }}</div>
            {% endif %}
            {% if field.errors %}
              <div class="text-danger small">{{ field.errors|striptags }}</div>
            {% endif %}
          </div>
          {% endif %}
        {% endfor %}
        
        <div class="form-actions">
          <button type="submit" class="auth-button complete-button">
            <svg class="button-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20,6 9,17 4,12"></polyline>
            </svg>
            Complete Registration
          </button>
        </div>
      </form>
      
      <div class="alternative-action">
        <p class="text-center mt-3">
          Already have an account?
          <a href="{% url 'login' %}" class="auth-redirect">Sign in instead</a>
        </p>
      </div>
    </div>
    <div class="card shadow-lg border-0 info-card">
      <h3>Why complete registration?</h3>
      <ul class="benefits-list">
        <li>
          <svg class="benefit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 12l2 2 4-4"></path>
            <path d="M21 12c-1.1-2.3-3.2-4-5.5-4s-4.4 1.7-5.5 4c1.1 2.3 3.2 4 5.5 4s4.4-1.7 5.5-4z"></path>
          </svg>
          Personalized event recommendations
        </li>
        <li>
          <svg class="benefit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="8.5" cy="7" r="4"></circle>
            <path d="M20 8v6M23 11h-6"></path>
          </svg>
          Create and manage your events
        </li>
        <li>
          <svg class="benefit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l11 11z"></path>
          </svg>
          Save your favorite parties
        </li>
        <li>
          <svg class="benefit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
          </svg>
          Connect with other party-goers
        </li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
