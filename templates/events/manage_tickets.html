{% extends 'events/base.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'events/css/manage_tickets.css' %}">
{% endblock %}

{% block content %}
<div class="manage-tickets-container">
  <h2 class="manage-tickets-title">Manage tickets by sector for {{ event.name }}</h2>

  <form method="post">
    {% csrf_token %}
    <div class="tickets-table-wrapper">
      <table class="tickets-table">
        <thead>
          <tr>
            <th style="width: 20%">Sector</th>
            <th style="width: 25%">Available tickets</th>
            <th style="width: 25%">Price</th>
          </tr>
        </thead>
        <tbody>
        {% for s in sectors %}
          <tr>
            <td class="sector-name">{{ s.sector_name }}</td>
            <td>
              <input type="number" class="tickets-input" name="inv_{{ s.id }}" min="0" value="{{ s.sector_inventory }}" placeholder="Number of tickets">
            </td>
            <td>
              <input type="number" class="price-input" name="price_{{ s.id }}" min="0" step="0.01" value="{{ s.sector_price }}" placeholder="Price per ticket">
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="3" class="empty-state">No sectors configured.</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
    
    <div class="action-buttons">
      <a href="{% url 'event_detail' event.id %}" class="btn-back">Back</a>
      <button type="submit" class="btn-save">Save changes</button>
    </div>
  </form>
</div>
{% endblock %}
